/*github.com/Grafluxe/trello-list-lister*/
!function(){"use strict";var t=$(".trello-list-lister"),i=$(".list");if(t.length){if(i.length===TrelloListLister.$lists.length)return t.toggle(),void(TrelloListLister.$view&&TrelloListLister.$view.hide());t.remove(),TrelloListLister.$view.remove(),TrelloListLister.$view=null}window.TrelloListLister={version:"1.0.0",init:function(){var t=$("<button>").addClass("trello-list-lister").text("List Cards").css({margin:"5px",width:"96%",fontSize:"12px",fontWeight:"500",minHeight:"22px",padding:"0",opacity:"0.8"}).click($.proxy(this.getData,this));this.$lists=i,i.each(function(e,s){e<i.length&&$(s).prepend(t.clone(!0))})},getData:function(t){var i="",e=0,s=$(t.target).parent(),o=s.find(".list-cards").children();o.each(function(t){e++,i+="- "+$(this).find(".list-card-title").eq(0).contents().eq(1).text()+(t<o.length-1?"&#10;":"")}),this.$view?this.$view.show():(this.createView(),this.createModal()),this.fillModal(s.find(".list-header-name-assist").text(),e,i)},createView:function(){this.$view=$("<div>").addClass("window-overlay").css("display","block").appendTo("body").click($.proxy(function(t){"window-overlay"===t.target.className&&this.$view.hide()},this))},createModal:function(){var t=$("<div>").css({position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"75%",maxWidth:"600px",height:"75%",backgroundColor:"#E2E4E6",zIndex:99,borderRadius:"3px",boxShadow:"0 0 20px #333",padding:"15px"}).appendTo(this.$view);$("<a href='#'>").appendTo(t).addClass("icon-lg icon-close dialog-close-button").click($.proxy(function(){this.$view.hide()},this)),this.$header=$("<h2>").appendTo(t),this.$count=$("<p>").appendTo(t),this.$items=$("<textarea>").appendTo(t).css({height:"calc(100% - 70px)",resize:"none",padding:"5px 10px"}).addClass("comment-frame")},fillModal:function(t,i,e){this.$header.text(t),this.$count.text(i+" card"+(1!==i?"s":"")),this.$items.html(e)}},window.TrelloListLister.init()}();